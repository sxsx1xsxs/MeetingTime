{% extends 'manage_event/base.html' %}

{% block main %}

<style>
    .anchor {
    padding-top: 120px;
    margin-top: -120px;
    }
</style>
{% load static %}
<script src="{% static 'manage_event/js/jquery.min.js' %}" type="text/javascript"></script>
<script src="{% static 'manage_event/js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href="{% static 'manage_event/css/sidebar.css' %}" rel="stylesheet">



        <div class="wrapper">
            <!-- Sidebar Holder -->
            <nav id="sidebar">
                <ul class="list-unstyled components">
                    <li class="active">
                        <a href="#NotificationSubmenu" data-toggle="collapse" aria-expanded="false">Notifications</a>
                        <ul class="collapse list-unstyled" id="NotificationSubmenu">
                            <li><a href="#">Unread</a></li>
                            <li><a href="#">Read</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#organizeSubmenu" onclick="redirect('organize')" data-toggle="collapse" aria-expanded="false">Organize</a>
                        <ul class="collapse list-unstyled" id="organizeSubmenu">
                            <li><a href="#newEvent">New Event</a></li>
                            <li><a href="#waitForDecision">Wait For Decision</a></li>
                            <li><a href="#ongoing">Ungoing</a></li>
                            <li><a href="#history">History</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#participateSubmenu" data-toggle="collapse" aria-expanded="false" onclick="redirect('participate')">Participate</a>
                        <ul class="collapse list-unstyled" id="participateSubmenu">
                            <li><a href="#">To Do</a></li>
                            <li><a href="#">Result</a></li>
                            <li><a href="#">Pending</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>


            <!-- Page Content Holder -->
            <div id="content">

               <button type="button" id="sidebarCollapse" class="btn btn-info">
                                <i class="glyphicon glyphicon-align-left"></i>
                                <span>Hide Sidebar</span>
                            </button>
                <div>
                    <div class="row">
                        <div class="col-md-12">
                            <div>

                                    {% block content %}
                                    {% endblock %}

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>


<script>
var expandingLocation;
var stored = localStorage['expand'];


if (stored) expandingLocation = stored;
else expandingLocation = "";


if (expandingLocation == "organize") {
     var currentMenu = document.getElementById("organizeSubmenu");
     currentMenu.className = "collapse in list-unstyled";
} else if (expandingLocation == "participate") {
     var currentMenu = document.getElementById("participateSubmenu");
     currentMenu.className = "collapse in list-unstyled";
} else if (expandingLocation == "notification") {
     var currentMenu = document.getElementById("notificationSubmenu");
     currentMenu.className = "collapse in list-unstyled";
}


    function redirect(place){
        if (place == "organize"){
            window.location.replace('{% url 'manage_event:organize_index' %}');
        }else if (place == "participate") {
            window.location.replace('{% url 'manage_event:participate_index' %}');
        }

        localStorage['expand'] = place;
    }
</script>


        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                      if ($('#sidebar').hasClass('active')){
                        document.getElementById("content").style.padding = "120px 10px 0px 20px";
                        document.getElementById("sidebarCollapse").innerHTML = "Show Sidebar";
                      } else {
                        document.getElementById("content").style.padding = "120px 10px 0px 270px";
                        document.getElementById("sidebarCollapse").innerHTML = "Hide Sidebar";

                      }

                 });
             });
         </script>
    </body>
</html>


{% endblock%}